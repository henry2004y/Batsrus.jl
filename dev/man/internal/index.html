<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Internal · Batsrus.jl</title><meta name="title" content="Internal · Batsrus.jl"/><meta property="og:title" content="Internal · Batsrus.jl"/><meta property="twitter:title" content="Internal · Batsrus.jl"/><meta name="description" content="Documentation for Batsrus.jl."/><meta property="og:description" content="Documentation for Batsrus.jl."/><meta property="twitter:description" content="Documentation for Batsrus.jl."/><meta property="og:url" content="https://henry2004y.github.io/Batsrus.jl/man/internal/"/><meta property="twitter:url" content="https://henry2004y.github.io/Batsrus.jl/man/internal/"/><link rel="canonical" href="https://henry2004y.github.io/Batsrus.jl/man/internal/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../democards/nocoverlisttheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../manual/">Manual</a></li><li><a class="tocitem" href="../../examples/">Examples</a></li><li class="is-active"><a class="tocitem" href>Internal</a><ul class="internal"><li><a class="tocitem" href="#Batsrus"><span>Batsrus</span></a></li><li><a class="tocitem" href="#UnitfulBatsrus"><span>UnitfulBatsrus</span></a></li><li><a class="tocitem" href="#HDF"><span>HDF</span></a></li></ul></li><li><a class="tocitem" href="../log/">Log</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Internal</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Internal</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/henry2004y/Batsrus.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/henry2004y/Batsrus.jl/blob/master/docs/src/man/internal.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="APIs"><a class="docs-heading-anchor" href="#APIs">APIs</a><a id="APIs-1"></a><a class="docs-heading-anchor-permalink" href="#APIs" title="Permalink"></a></h1><h2 id="Batsrus"><a class="docs-heading-anchor" href="#Batsrus">Batsrus</a><a id="Batsrus-1"></a><a class="docs-heading-anchor-permalink" href="#Batsrus" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.BATS" href="#Batsrus.BATS"><code>Batsrus.BATS</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Batsrus data container. <code>Dim</code> is the dimension of output, and <code>Dimp1</code> is an extra parameter for working around derived types.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/type.jl#L36">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.Batl" href="#Batsrus.Batl"><code>Batsrus.Batl</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>BATSRUS output high-level struct.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/vtk.jl#L72">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.BatsHead" href="#Batsrus.BatsHead"><code>Batsrus.BatsHead</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Batsrus file head information.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/type.jl#L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.FileList" href="#Batsrus.FileList"><code>Batsrus.FileList</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Type for Batsrus file information.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/type.jl#L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.Head" href="#Batsrus.Head"><code>Batsrus.Head</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>BATSRUS output standalone header information.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/vtk.jl#L40">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus._fill_vector_from_scalars-Union{Tuple{T}, Tuple{ndimp1}, Tuple{ndim}, Tuple{BATS{ndim, ndimp1, T}, Any}} where {ndim, ndimp1, T}" href="#Batsrus._fill_vector_from_scalars-Union{Tuple{T}, Tuple{ndimp1}, Tuple{ndim}, Tuple{BATS{ndim, ndimp1, T}, Any}} where {ndim, ndimp1, T}"><code>Batsrus._fill_vector_from_scalars</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Construct vectors from scalar components.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/select.jl#L191">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.adjust_plotrange!-Tuple{Any, Any, Any}" href="#Batsrus.adjust_plotrange!-Tuple{Any, Any, Any}"><code>Batsrus.adjust_plotrange!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Adjust 2D plot ranges.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/utility.jl#L112">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.allocateBuffer-Tuple{Batsrus.BatsHead, DataType}" href="#Batsrus.allocateBuffer-Tuple{Batsrus.BatsHead, DataType}"><code>Batsrus.allocateBuffer</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Create buffer for x and w.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/io.jl#L395">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.convertIDLtoVTK-Tuple{AbstractString}" href="#Batsrus.convertIDLtoVTK-Tuple{AbstractString}"><code>Batsrus.convertIDLtoVTK</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">convertIDLtoVTK(filename; gridType=1, verbose=false)</code></pre><p>Convert 3D BATSRUS *.out to VTK. If <code>gridType==1</code>, it converts to the rectilinear grid; if <code>gridType==2</code>, it converts to the structured grid. If <code>filename</code> does not end with &quot;out&quot;, it tries to find the &quot;.info&quot; and &quot;.tree&quot; file with the same name tag and generates 3D unstructured VTU file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/vtk.jl#L148-L155">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.convertTECtoVTU" href="#Batsrus.convertTECtoVTU"><code>Batsrus.convertTECtoVTU</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">convertTECtoVTU(file::AbstractString, outname=&quot;out&quot;)
convertTECtoVTU(head, data, connectivity, outname=&quot;out&quot;)</code></pre><p>Convert unstructured Tecplot data to VTK. Note that if using voxel type data in VTK, the connectivity sequence is different from Tecplot: the 3D connectivity sequence in Tecplot is the same as the <code>hexahedron</code> type in VTK, but different with the <code>voxel</code> type. The 2D connectivity sequence is the same as the <code>quad</code> type, but different with the <code>pixel</code> type. For example, in 3D the index conversion is:</p><pre><code class="nohighlight hljs"># PLT to VTK voxel index_ = [1 2 4 3 5 6 8 7]
for i in 1:2
   connectivity = swaprows!(connectivity, 4*i-1, 4*i)
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/vtk.jl#L80-L95">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.create_pvd-Tuple{String}" href="#Batsrus.create_pvd-Tuple{String}"><code>Batsrus.create_pvd</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_pvd(filepattern)</code></pre><p>Generate PVD file for a time series collection of VTK data.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">create_pvd(&quot;*.vtu)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/vtk.jl#L1817-L1825">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.cutdata-Tuple{BATS, AbstractString}" href="#Batsrus.cutdata-Tuple{BATS, AbstractString}"><code>Batsrus.cutdata</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">cutdata(data, var; plotrange=[-Inf,Inf,-Inf,Inf], dir=&quot;x&quot;, sequence=1)</code></pre><p>Get 2D plane cut in orientation <code>dir</code> for <code>var</code> out of 3D box <code>data</code> within <code>plotrange</code>. The returned 2D data lies in the <code>sequence</code> plane from - to + in <code>dir</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/select.jl#L3-L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.fillCellNeighbors!-Tuple{Batl, Vararg{Any, 4}}" href="#Batsrus.fillCellNeighbors!-Tuple{Batl, Vararg{Any, 4}}"><code>Batsrus.fillCellNeighbors!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">fillCellNeighbors!(batl, iCell_G, DiLevelNei_III, iNodeNei_III, nBlock_P)</code></pre><p>Fill neighbor cell indexes for the given block. The faces, edges, and vertices are ordered from left (-) to right (+) in x-y-z sequentially.</p><p>Vertices:        Edges: (10,11 ignored)</p><p>7 ––- 8        . –4– .</p><ul><li>.     - .      7 .     8 .</li></ul><p>5 ––- 6  .     . –3– .  12 .  .    .  .     .  .    .  . .  3 ––- 4     9  . –2– . . -     . -      . 5     . 6 1 ––- 2        . –1– .</p><p>Only tested for 3D.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/vtk.jl#L842-L859">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.find_grid_block-Tuple{Batl, Any}" href="#Batsrus.find_grid_block-Tuple{Batl, Any}"><code>Batsrus.find_grid_block</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">find_grid_block(batl, xyz_D)</code></pre><p>Return processor local block index that contains a point. Input location should be given in Cartesian coordinates.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/vtk.jl#L391-L396">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.find_neighbor_for_anynode-Tuple{Batl, Int64}" href="#Batsrus.find_neighbor_for_anynode-Tuple{Batl, Int64}"><code>Batsrus.find_neighbor_for_anynode</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Find neighbors for any node in the tree. Only for Cartesian now.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/vtk.jl#L556">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.find_tree_node-Tuple{Batl, Any}" href="#Batsrus.find_tree_node-Tuple{Batl, Any}"><code>Batsrus.find_tree_node</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">find_tree_node(batl, Coord_D)</code></pre><p>Find the node that contains a point. The point coordinates should be given in generalized coordinates normalized by the domain size.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/vtk.jl#L426-L431">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.findindex-Tuple{BATS, AbstractString}" href="#Batsrus.findindex-Tuple{BATS, AbstractString}"><code>Batsrus.findindex</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Find variable index in the BATSRUS data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/utility.jl#L92">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.getConnectivity-Tuple{Batl}" href="#Batsrus.getConnectivity-Tuple{Batl}"><code>Batsrus.getConnectivity</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Get cell connectivity list.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/vtk.jl#L706">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.getRotationMatrix-Tuple{AbstractVector{&lt;:AbstractFloat}, Real}" href="#Batsrus.getRotationMatrix-Tuple{AbstractVector{&lt;:AbstractFloat}, Real}"><code>Batsrus.getRotationMatrix</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getRotationMatrix(axis::AbstractVector, angle::Real) --&gt; SMatrix{3,3}</code></pre><p>Create a rotation matrix for rotating a 3D vector around a unit <code>axis</code> by an <code>angle</code> in radians. Reference: <a href="https://en.wikipedia.org/wiki/Rotation_matrix#Rotation_matrix_from_axis_and_angle">Rotation matrix from axis and angle</a></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">using LinearAlgebra
v = [-0.5, 1.0, 1.0]
v̂ = normalize(v)
θ = deg2rad(-74)
R = getRotationMatrix(v̂, θ)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/utility.jl#L231-L246">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.getSibling-Tuple{Any, Any}" href="#Batsrus.getSibling-Tuple{Any, Any}"><code>Batsrus.getSibling</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Return sibling index (1-8) for the given block node matrix.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/vtk.jl#L834">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.get_var_range-Tuple{BATS, Any}" href="#Batsrus.get_var_range-Tuple{BATS, Any}"><code>Batsrus.get_var_range</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Return value range of <code>var</code> in <code>bd</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/utility.jl#L197">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.getascii!-Union{Tuple{T}, Tuple{Matrix{T}, Any, IOStream}} where T" href="#Batsrus.getascii!-Union{Tuple{T}, Tuple{Matrix{T}, Any, IOStream}} where T"><code>Batsrus.getascii!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Read ascii format coordinates and data values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/io.jl#L414">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.getbinary!-Union{Tuple{T}, Tuple{Matrix{T}, Any, IOStream}} where T" href="#Batsrus.getbinary!-Union{Tuple{T}, Tuple{Matrix{T}, Any, IOStream}} where T"><code>Batsrus.getbinary!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Read binary format coordinates and data values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/io.jl#L439">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.getfilehead-Tuple{IOStream, Batsrus.FileList}" href="#Batsrus.getfilehead-Tuple{IOStream, Batsrus.FileList}"><code>Batsrus.getfilehead</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getfilehead(fileID::IoStream, filelist::FileList) -&gt; NameTuple</code></pre><p>Obtain the header information from BATSRUS output file of <code>type</code> linked to <code>fileID</code>.</p><p><strong>Input arguments</strong></p><ul><li><code>fileID::IOStream</code>: file identifier.</li><li><code>filelist::FileList</code>: file information.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/io.jl#L250-L257">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.getfilesize-Tuple{IOStream, Int32, Val{Batsrus.Real4Bat}}" href="#Batsrus.getfilesize-Tuple{IOStream, Int32, Val{Batsrus.Real4Bat}}"><code>Batsrus.getfilesize</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getfilesize(fileID::IOStream, lenstr::Int32, ::Val{FileType})</code></pre><p>Return the size in bytes for one snapshot.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/io.jl#L318-L322">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.getfiletype-Tuple{AbstractString}" href="#Batsrus.getfiletype-Tuple{AbstractString}"><code>Batsrus.getfiletype</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Obtain file type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/io.jl#L208">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.getvar-Union{Tuple{T}, Tuple{ndimp1}, Tuple{ndim}, Tuple{BATS{ndim, ndimp1, T}, AbstractString}} where {ndim, ndimp1, T}" href="#Batsrus.getvar-Union{Tuple{T}, Tuple{ndimp1}, Tuple{ndim}, Tuple{BATS{ndim, ndimp1, T}, AbstractString}} where {ndim, ndimp1, T}"><code>Batsrus.getvar</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getvar(bd::BATS, var::AbstractString) -&gt; Array</code></pre><p>Return variable data from string <code>var</code>. This is also supported via direct indexing,</p><p><strong>Examples</strong></p><pre><code class="nohighlight hljs">bd[&quot;rho&quot;]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/select.jl#L165-L174">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.getview-Union{Tuple{T}, Tuple{BATS{1, 2, T}, Any}} where T" href="#Batsrus.getview-Union{Tuple{T}, Tuple{BATS{1, 2, T}, Any}} where T"><code>Batsrus.getview</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Return view of variable <code>var</code> in <code>bd</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/utility.jl#L184">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.ibits-Tuple{Any, Any, Any}" href="#Batsrus.ibits-Tuple{Any, Any, Any}"><code>Batsrus.ibits</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Logical shifts as the Fortran instrinsic function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/vtk.jl#L478">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.interp1d-Union{Tuple{T}, Tuple{BATS{2, 3, T}, AbstractString, AbstractVector{&lt;:AbstractFloat}}} where T" href="#Batsrus.interp1d-Union{Tuple{T}, Tuple{BATS{2, 3, T}, AbstractString, AbstractVector{&lt;:AbstractFloat}}} where T"><code>Batsrus.interp1d</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">interp1d(bd::BATS, var::AbstractString, loc::AbstractVector{&lt;:AbstractFloat})</code></pre><p>Interpolate <code>var</code> at spatial point <code>loc</code> in <code>bd</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/utility.jl#L134-L138">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.interp1d-Union{Tuple{T}, Tuple{BATS{2, 3, T}, AbstractString, Vector, Vector}} where T" href="#Batsrus.interp1d-Union{Tuple{T}, Tuple{BATS{2, 3, T}, AbstractString, Vector, Vector}} where T"><code>Batsrus.interp1d</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">interp1d(bd::BATS, var::AbstractString, point1::Vector, point2::Vecto)</code></pre><p>Interpolate <code>var</code> along a line from <code>point1</code> to <code>point2</code> in <code>bd</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/utility.jl#L151-L155">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.interp2d-Union{Tuple{T}, Tuple{BATS{2, 3, T}, AbstractString}, Tuple{BATS{2, 3, T}, AbstractString, Vector}, Tuple{BATS{2, 3, T}, AbstractString, Vector, Real}} where T" href="#Batsrus.interp2d-Union{Tuple{T}, Tuple{BATS{2, 3, T}, AbstractString}, Tuple{BATS{2, 3, T}, AbstractString, Vector}, Tuple{BATS{2, 3, T}, AbstractString, Vector, Real}} where T"><code>Batsrus.interp2d</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">interp2d(bd::BATS, var::AbstractString, plotrange=[-Inf, Inf, -Inf, Inf],
   plotinterval=Inf; kwargs...)</code></pre><p>Return 2D interpolated slices of data <code>var</code> from <code>bd</code>. If <code>plotrange</code> is not set, output data resolution is the same as the original.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>innermask=false</code>: Whether to mask the inner boundary with NaN.</li><li><code>rbody=1.0</code>: Radius of the inner mask. Used when the rbody parameter is not found in the header.</li><li><code>useMatplotlib=true</code>: Whether to Matplotlib (somehow faster) or NaturalNeighbours for scattered interpolation.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/utility.jl#L3-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.interpolate2d_generalized_coords-Union{Tuple{T}, Tuple{T, T, T, Vector{&lt;:AbstractFloat}, Real}} where T&lt;:(AbstractVector)" href="#Batsrus.interpolate2d_generalized_coords-Union{Tuple{T}, Tuple{T, T, T, Vector{&lt;:AbstractFloat}, Real}} where T&lt;:(AbstractVector)"><code>Batsrus.interpolate2d_generalized_coords</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Perform Triangle interpolation of 2D data <code>W</code> on grid <code>X</code>, <code>Y</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/utility.jl#L122">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.load-Tuple{AbstractString}" href="#Batsrus.load-Tuple{AbstractString}"><code>Batsrus.load</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">load(filename; npict=1, verbose=false)</code></pre><p>Read BATSRUS output files. Stores the <code>npict</code> snapshot from an ascii or binary data file into the arrays of coordinates <code>x</code> and data <code>w</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/io.jl#L7-L11">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.meshgrid-Tuple{Any, Any}" href="#Batsrus.meshgrid-Tuple{Any, Any}"><code>Batsrus.meshgrid</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Generating consistent 2D arrays for passing to plotting functions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/utility.jl#L100">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.nodeToGlobalBlock-Tuple{Batl, Int32, Any}" href="#Batsrus.nodeToGlobalBlock-Tuple{Batl, Int32, Any}"><code>Batsrus.nodeToGlobalBlock</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Return global block index for the node.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/vtk.jl#L688">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.order_children!-Tuple{Batl, Int32, Int64, Vector{Int32}}" href="#Batsrus.order_children!-Tuple{Batl, Int32, Int64, Vector{Int32}}"><code>Batsrus.order_children!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">order_children!(batl::Batl, iNode, iMorton::Int, iNodeMorton_I::Vector{Int32})</code></pre><p>Recursively apply Morton ordering for nodes below a root block. Store result into iNodeMorton<em>I and iMortonNode</em>A using the iMorton index.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/vtk.jl#L534-L539">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.order_tree-Tuple{Batl}" href="#Batsrus.order_tree-Tuple{Batl}"><code>Batsrus.order_tree</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">order_tree(batl)</code></pre><p>Return maximum AMR level in the used block and the Morton curve order. Set iNodeMorton_I indirect index arrays according to</p><ol><li>root node order</li><li>Morton ordering for each root node</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/vtk.jl#L490-L497">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.readhead-Tuple{Any}" href="#Batsrus.readhead-Tuple{Any}"><code>Batsrus.readhead</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Return header from info file. Currently only designed for 2D and 3D.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/vtk.jl#L293">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.readlogdata-Tuple{AbstractString}" href="#Batsrus.readlogdata-Tuple{AbstractString}"><code>Batsrus.readlogdata</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Read information from log file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/io.jl#L44">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.readtecdata-Tuple{AbstractString}" href="#Batsrus.readtecdata-Tuple{AbstractString}"><code>Batsrus.readtecdata</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">readtecdata(file; verbose=false)</code></pre><p>Return header, data and connectivity from BATSRUS Tecplot outputs. Both 2D and 3D binary and ASCII formats are supported.</p><p><strong>Examples</strong></p><pre><code class="nohighlight hljs">file = &quot;3d_ascii.dat&quot;
head, data, connectivity = readtecdata(file)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/io.jl#L72-L81">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.readtree-Tuple{Any}" href="#Batsrus.readtree-Tuple{Any}"><code>Batsrus.readtree</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Return BATL tree structure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/vtk.jl#L372">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.rotateTensorToVectorZ-Union{Tuple{T}, Tuple{AbstractMatrix{T}, Any}} where T" href="#Batsrus.rotateTensorToVectorZ-Union{Tuple{T}, Tuple{AbstractMatrix{T}, Any}} where T"><code>Batsrus.rotateTensorToVectorZ</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">rotateTensorToVectorZ(tensor::AbstractMatrix, v::AbstractVector) -&gt; SMatrix{3,3}</code></pre><p>Rotate <code>tensor</code> with a rotation matrix that aligns the 3rd direction with <code>vector</code>, which is equivalent to change the basis from (i,j,k) to (i′,j′,k′) where k′ ∥ vector. Reference: <a href="https://math.stackexchange.com/questions/2303869/tensor-rotation">Tensor rotation</a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/utility.jl#L213-L218">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.setunits-Tuple{Any, Any}" href="#Batsrus.setunits-Tuple{Any, Any}"><code>Batsrus.setunits</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">setunits(head, type; distance=1.0, mp=1.0, me=1.0)</code></pre><p>Set the units for the output files. If type is given as &quot;SI&quot;, &quot;CGS&quot;, &quot;NORMALIZED&quot;, &quot;PIC&quot;, &quot;PLANETARY&quot;, &quot;SOLAR&quot;, set <code>typeunit = type</code>, otherwise try to guess from the fileheader. Based on <code>typeunit</code> set units for distance [xSI], time [tSI], density [rhoSI], pressure [pSI], magnetic field [bSI] and current density [jSI] in SI units. Distance unit [rplanet | rstar], ion and electron mass in [amu] can be set with optional <code>distance</code>, <code>mp</code> and <code>me</code>.</p><p>Also calculate convenient constants ti0, cs0 ... for typical formulas. This function is currently not used anywhere!</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/io.jl#L470-L482">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.showhead" href="#Batsrus.showhead"><code>Batsrus.showhead</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">showhead(file, head)</code></pre><p>Displaying file header information.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/io.jl#L690-L694">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.showhead-Tuple{BATS}" href="#Batsrus.showhead-Tuple{BATS}"><code>Batsrus.showhead</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">showhead(data)
showhead(io, data)</code></pre><p>Display file information of <code>data</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/io.jl#L717-L722">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.slice1d" href="#Batsrus.slice1d"><code>Batsrus.slice1d</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">slice1d(bd, var, icut::Int=1, dir::Int=2)</code></pre><p>Return view of variable <code>var</code> in <code>bd</code> along 1D slice. <code>icut</code> is the index along axis <code>dir</code>. <code>dir == 1</code> means align with the 2nd (y) axis, <code>dir == 2</code> means align with the 1st (x) axis.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/utility.jl#L174-L179">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.squeeze-Tuple{AbstractArray}" href="#Batsrus.squeeze-Tuple{AbstractArray}"><code>Batsrus.squeeze</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Squeeze singleton dimensions for an array <code>A</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/utility.jl#L200">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.subsurface-NTuple{4, Any}" href="#Batsrus.subsurface-NTuple{4, Any}"><code>Batsrus.subsurface</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">subsurface(x, y, data, limits)
subsurface(x, y, u, v, limits)</code></pre><p>Extract subset of 2D surface dataset in ndgrid format. See also: <a href="#Batsrus.subvolume-NTuple{5, Any}"><code>subvolume</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/select.jl#L88-L93">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.subvolume-NTuple{5, Any}" href="#Batsrus.subvolume-NTuple{5, Any}"><code>Batsrus.subvolume</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">subvolume(x, y, z, data, limits)
subvolume(x, y, z, u, v, w, limits)</code></pre><p>Extract subset of 3D dataset in ndgrid format. See also: <a href="#Batsrus.subsurface-NTuple{4, Any}"><code>subsurface</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/select.jl#L125-L130">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.swaprows!-Tuple{Matrix, Int64, Int64}" href="#Batsrus.swaprows!-Tuple{Matrix, Int64, Int64}"><code>Batsrus.swaprows!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Return matrix X with swapped rows i and j.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/vtk.jl#L280">source</a></section></article><h2 id="UnitfulBatsrus"><a class="docs-heading-anchor" href="#UnitfulBatsrus">UnitfulBatsrus</a><a id="UnitfulBatsrus-1"></a><a class="docs-heading-anchor-permalink" href="#UnitfulBatsrus" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.UnitfulBatsrus.@bu_str-Tuple{Any}" href="#Batsrus.UnitfulBatsrus.@bu_str-Tuple{Any}"><code>Batsrus.UnitfulBatsrus.@bu_str</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">macro bu_str(unit)</code></pre><p>String macro to easily recall Batsrus units located in the <code>UnitfulBatsrus</code> package. Although all unit symbols in that package are suffixed with <code>_bu</code>, the suffix should not be used when using this macro. Note that what goes inside must be parsable as a valid Julia expression.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">julia&gt; 1.0bu&quot;u&quot;
1.0 u
julia&gt; 1.0bu&quot;amucc&quot;
1.0 amu/cc</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/unit/batsrusmacro.jl#L1-L15">source</a></section></article><h2 id="HDF"><a class="docs-heading-anchor" href="#HDF">HDF</a><a id="HDF-1"></a><a class="docs-heading-anchor-permalink" href="#HDF" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.HDF" href="#Batsrus.HDF"><code>Batsrus.HDF</code></a> — <span class="docstring-category">Module</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Module for BATSRUS HDF5 file processing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/hdf.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.HDF.BatsrusHDF5Uniform" href="#Batsrus.HDF.BatsrusHDF5Uniform"><code>Batsrus.HDF.BatsrusHDF5Uniform</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>BATSRUS HDF5 file with uniform Cartesian mesh.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/hdf.jl#L66">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.HDF.HDF5Common" href="#Batsrus.HDF.HDF5Common"><code>Batsrus.HDF.HDF5Common</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>BATSRUS hdf5 file wrapper.</p><p>The data are stored in blocks, i.e., each field component is stored in a 4D array in the order (iblock, iz, iy, ix). This is a generic wrapper and does not assume grid type, i.e., uniform, stretched nonuniform, or AMR, etc. Classes to handle data with different grids can be derived from this class.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/hdf.jl#L10-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.HDF.coord2index-Union{Tuple{TF}, Tuple{TI}, Tuple{BatsrusHDF5Uniform{TI, TF}, Int64, Real}} where {TI, TF}" href="#Batsrus.HDF.coord2index-Union{Tuple{TF}, Tuple{TI}, Tuple{BatsrusHDF5Uniform{TI, TF}, Int64, Real}} where {TI, TF}"><code>Batsrus.HDF.coord2index</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Return lower corner index.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/hdf.jl#L150">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.HDF.extract_var-Union{Tuple{TF}, Tuple{TI}, Tuple{BatsrusHDF5Uniform{TI, TF}, String}} where {TI, TF}" href="#Batsrus.HDF.extract_var-Union{Tuple{TF}, Tuple{TI}, Tuple{BatsrusHDF5Uniform{TI, TF}, String}} where {TI, TF}"><code>Batsrus.HDF.extract_var</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">extract_var(file::BatsrusHDF5Uniform, var::String; kwargs...)</code></pre><p>Extract variable <code>var</code> from HDF5 <code>file</code>.</p><p><strong>Keywords</strong></p><ul><li><code>xmin</code>: minimum extracted coordinate in x.</li><li><code>xmax</code>: maximum extracted coordinate in x.</li><li><code>stepx</code>: extracted stride in x.</li><li><code>ymin</code>: minimum extracted coordinate in y.</li><li><code>ymax</code>: maximum extracted coordinate in y.</li><li><code>stepy</code>: extracted stride in y.</li><li><code>zmin</code>: minimum extracted coordinate in z.</li><li><code>zmax</code>: maximum extracted coordinate in z.</li><li><code>stepz</code>: extracted stride in z.</li><li><code>verbose::Bool=true</code>: display type and size information of output variable.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/hdf.jl#L236-L252">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.HDF.global_slice_to_local_slice-Tuple{BatsrusHDF5Uniform, Int64, OrdinalRange, Int64}" href="#Batsrus.HDF.global_slice_to_local_slice-Tuple{BatsrusHDF5Uniform, Int64, OrdinalRange, Int64}"><code>Batsrus.HDF.global_slice_to_local_slice</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">global_slice_to_local_slice(file::BatsrusHDF5Uniform, dim, gslc, ib)</code></pre><p>Convert global slice <code>gslc</code> to local slice <code>lslc</code> on a given block index <code>ib</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/hdf.jl#L224-L228">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.HDF.prep_extract-Tuple{BatsrusHDF5Uniform}" href="#Batsrus.HDF.prep_extract-Tuple{BatsrusHDF5Uniform}"><code>Batsrus.HDF.prep_extract</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">prep_extract(file::BatsrusHDF5Uniform, vmin=-Inf, vmax=Inf, step=1)</code></pre><p>Get info for data extraction in 1D.</p><p><strong>Keywords</strong></p><ul><li><code>vmin, vmax</code>: requested coordinate range (corner values).</li><li><code>step</code>: stride.</li></ul><p><strong>Returns:</strong></p><ul><li><code>gslc</code>: global slice.</li><li><code>vmin_new, vmax_new</code>: adjusted coordinate range (corner values).</li><li><code>ibmin:ibmax</code>: block range.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/hdf.jl#L118-L131">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.HDF.prep_extract_per_block-Tuple{BatsrusHDF5Uniform, Int64, OrdinalRange, Int64}" href="#Batsrus.HDF.prep_extract_per_block-Tuple{BatsrusHDF5Uniform, Int64, OrdinalRange, Int64}"><code>Batsrus.HDF.prep_extract_per_block</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">prep_extract_per_block(file::BatsrusHDF5Uniform, dim, gslc, ib)</code></pre><p>Get info for data extraction on a single block.</p><p><strong>Arguments</strong></p><ul><li><code>gslc</code>: global slice from prep_extract.</li><li><code>ib::Int</code>: block index.</li></ul><p><strong>Returns</strong></p><ul><li><code>lslc</code>: range to be used on the current block.</li><li><code>ix0:ix1</code>: index range in the global array.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/hdf.jl#L200-L212">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.HDF.prepslice-Tuple{BatsrusHDF5Uniform}" href="#Batsrus.HDF.prepslice-Tuple{BatsrusHDF5Uniform}"><code>Batsrus.HDF.prepslice</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">prepslice(file::BatsrusHDF5Uniform; dim::Int, vmin, vmax, step=1)</code></pre><p>Return range that covers [<code>vmin</code>, <code>vmax</code>) along dimension <code>dim</code>.</p><p><strong>Returns</strong></p><ul><li><code>slc_new</code>: trimed slice. If the object&#39;s Nx==1, then 1:1 will be returned.</li><li><code>xl_new</code>: adjusted lower corner coordinate matching <code>slc_new.start</code>.</li><li><code>xu_new</code>: adjusted lower corner coordinate matching <code>slc_new.stop</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/hdf.jl#L159-L168">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Batsrus.HDF.trimslice-NTuple{4, Any}" href="#Batsrus.HDF.trimslice-NTuple{4, Any}"><code>Batsrus.HDF.trimslice</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">trimslice(start, stop, step, stop_max)</code></pre><p>Set slice&#39;s start to be nonnegative and start/stop to be within bound. Reverse slicing is not handled.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/henry2004y/Batsrus.jl/blob/b03ecda6e35d04897a89dd12a8c84a1b2f84fcf9/src/hdf.jl#L181-L186">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../examples/">« Examples</a><a class="docs-footer-nextpage" href="../log/">Log »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Tuesday 12 November 2024 05:01">Tuesday 12 November 2024</span>. Using Julia version 1.11.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
